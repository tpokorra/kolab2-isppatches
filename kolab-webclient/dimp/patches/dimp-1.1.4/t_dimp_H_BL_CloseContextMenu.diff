From: Gunnar Wrobel <p@rdus.de>
Subject: [PATCH] t/dimp/H/BL/CloseContextMenu

Close the context menu when clicking into the Dimp menu.

Provided by Boris Lorbeer <B.Lorbeer@science-computing.de>

Signed-off-by: Gunnar Wrobel <p@rdus.de>

---
 js/DimpBase.js  |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

diff --git a/js/DimpBase.js b/js/DimpBase.js
index c4eb9f4..d90f09b 100644
--- a/js/DimpBase.js
+++ b/js/DimpBase.js
@@ -1507,6 +1507,7 @@ var DimpBase = {
 
                 case 'folder':
                 case 'special':
+                    DimpCore.DMenu.close();
                     e.stop();
                     return this.go('folder:' + li.readAttribute('mbox'));
                     break;
@@ -1903,7 +1904,7 @@ var DimpBase = {
         tmp = $('applicationfolders');
         if (tmp) {
             tmp.select('ul li.custom a').each(function(s) {
-                C({ d: s, f: this.go.bind(this, 'app:' + s.readAttribute('app')) });
+                C({ d: s, f: function(data){DimpCore.DMenu.close(); this.go('app:' + s.readAttribute('app'), data)}.bind(this) });
             }, this);
         }
 
-- 
tg: (19ee6e6..) t/dimp/H/BL/CloseContextMenu (depends on: t/kronolith/HK/GW/AnonymousiCalDownload)
-- 
TOPGIT patch commit log
=======================

commit b4b3190a4fb88e1843ff86adde4897dea21046db
Author: Gunnar Wrobel <p@rdus.de>
Date:   Mon Jul 20 09:39:24 2009 +0200

    Close the context menu when clicking into the Dimp menu.
